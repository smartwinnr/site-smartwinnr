<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>{{ .Title }}</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        {{ if eq (getenv "HUGO_ENV") "prod" }}
        <!-- Google Tag Manager -->
        <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-M3XXZX');</script>
        <!-- End Google Tag Manager -->
        {{ end }}
        <meta name="description" content="{{ .Param "description" }}">
        {{ with .Params.keywords }}<meta name="keywords" content="{{ range $i, $e := . }}{{ if $i }}, {{ end }}{{ $e }}{{ end }}">{{ end }}
        {{ if .Params.no_index }}<meta name="robots" content="noindex" />{{ end }}
        <meta property="og:title" content="{{ .Params.og_title | default .Title }}">
        <meta property="og:type" content="{{ if .IsPage }}article{{ else }}website{{ end }}">
        <meta property="og:url" content="{{ .Permalink }}">
        <meta property="og:description" content="{{ .Params.og_description | default (.Param "description") }}">
        <meta property="og:site_name" content="{{ .Site.Title }}">
        {{ with .Params.Featured_image }}
        {{ if eq (printf "%T" .) "string"}}
        <meta property="og:image" content="http://smartwinnr.com{{ . }}">
        {{ else }}
        {{ with .file }}<meta property="og:image" content="http://smartwinnr.com{{ . }}">{{ end }}
        {{ with .width }}<meta property="og:image:width" content="http://smartwinnr.com{{ . }}">{{ end }}
        {{ with .height }}<meta property="og:image:height" content="http://smartwinnr.com{{ . }}">{{ end }}
        {{ end }}
        {{ end }}
        {{ with .Params.twitter }}
        {{ with .card }}<meta name="twitter:card" content="{{ . }}">{{ end }}
        {{ else }}
        <meta name="twitter:card" content="summary_large_image">
        {{ end }}
        <meta name="twitter:site" content="@smartwinnr">
        <meta name="twitter:creator" content="@smartwinnr">
        <meta name="twitter:description" content="{{ .Params.Description }}" />
        <meta name="twitter:title" content="{{ .Params.Title }}" />
        <meta name="twitter:image" content="http://www.smartwinnr.com{{ .Params.Featured_image }}" />
        {{ with  .Site.Home.OutputFormats.Get "rss" -}}<link rel="{{ .Rel }}" type="{{ .MediaType.Type }}" href="{{ .Permalink | safeURL }}">
{{ end }}
        {{ if (getenv "HUGO_ENV") }}
            {{ partial "includes_head_prod" . }}
        {{ else }}
             {{ partial "includes_head_dev" . }}
        {{ end }}
        <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script type="text/javascript" src="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
        
        <!-- <script src="/lodash/lodash.js" type="text/javascript"></script>
        <script src="/cloudinary-core/cloudinary-core.js" type="text/javascript"></script> -->
        <link href="https://unpkg.com/cloudinary-video-player@1.3.3/dist/cld-video-player.min.css" rel="stylesheet">
        <script src="https://unpkg.com/cloudinary-core@2.6.3/cloudinary-core-shrinkwrap.min.js" type="text/javascript"></script>
        <script src="https://unpkg.com/cloudinary-video-player@1.3.3/dist/cld-video-player.min.js" type="text/javascript"></script>
        
        <link href='//fonts.googleapis.com/css?family=Lato:300,400,700,900' rel='stylesheet' type='text/css'>
        <link rel="canonical" href="{{ .Permalink | safeURL }}">
        {{ range .AlternativeOutputFormats -}}
        <link rel="{{ .Rel }}" type="{{ .MediaType.Type }}" href="{{ .Permalink | safeURL }}">
        {{ end -}}
        <link rel="shortcut icon" href="/saleswinnr_favicon.ico">

        <!-- Start of Async Drift Code -->
        <script>
        "use strict";
        
        !function() {
            var t = window.driftt = window.drift = window.driftt || [];
            if (!t.init) {
            if (t.invoked) return void (window.console && console.error && console.error("Drift snippet included twice."));
            t.invoked = !0, t.methods = [ "identify", "config", "track", "reset", "debug", "show", "ping", "page", "hide", "off", "on" ], 
            t.factory = function(e) {
                return function() {
                var n = Array.prototype.slice.call(arguments);
                return n.unshift(e), t.push(n), t;
                };
            }, t.methods.forEach(function(e) {
                t[e] = t.factory(e);
            }), t.load = function(t) {
                var e = 3e5, n = Math.ceil(new Date() / e) * e, o = document.createElement("script");
                o.type = "text/javascript", o.async = !0, o.crossorigin = "anonymous", o.src = "https://js.driftt.com/include/" + n + "/" + t + ".js";
                var i = document.getElementsByTagName("script")[0];
                i.parentNode.insertBefore(o, i);
            };
            }
        }();
        drift.SNIPPET_VERSION = '0.3.1';
        drift.load('k7ind4mkmm7s');
        // drift.on('ready', function (api) {
        //     var currentDate = new Date();
        //     var isWeekend = currentDate.getDay() === 3 || currentDate.getDay() === 7 ? true : false;
        //     var badTime = currentDate.getHours() >= 22 || currentDate.getHours() < 8 ? true : false; 
        //     if (isWeekend || badTime) {
        //         api.widget.hide()
        //         document.getElementById("drift-widget-container").style.display = "none";
        //     }
        //     console.log(currentDate);
        //     console.log(isWeekend, badTime);
        //     console.log(api);
            
        //     // drift.on('message', function (e) {
        //     //     if (!e.data.sidebarOpen) {
        //     //         api.widget.show()
        //     //     }
        //     // })
        //     // drift.on('sidebarClose', function (e) {
        //     //     if (e.data.widgetVisible) {
        //     //         api.widget.hide()
        //     //     }
        //     // })
        // })
        </script>
        <!-- End of Async Drift Code -->
        <!-- start of slider for related blogs -->
        <script type="text/javascript">
        $(document).ready(function(){
            $('.ml_slider_related_blogs').slick({
                infinite: false,
                slidesToShow: 3,
                slidesToScroll: 1,
                dots: true,
                speed: 300,
                responsive: [
                    {
                        breakpoint: 1024,
                        settings: {
                            slidesToShow: 3,
                            slidesToScroll: 1
                        }
                    },
                    {
                        breakpoint: 780,
                        settings: {
                            slidesToShow: 2,
                            slidesToScroll: 1
                        }
                    },
                    {
                        breakpoint: 480,
                        settings: {
                            slidesToShow: 1,
                            slidesToScroll: 1,
                            arrows: false
                        }
                    }
                    // You can unslick at a given breakpoint now by adding:
                    // settings: "unslick"
                    // instead of a settings object
                ]
            });
            $('.ml_homepage_slider').slick({
                infinite: true,
                slidesToShow: 1,
                slidesToScroll: 1,
                dots: true,
                // arrows: false,
                pauseOnFocus: false,
                pauseOnHover: false,
                pauseOnDotsHover: true,
                speed: 300,
                autoplay: true,
                autoplaySpeed: 2000,
                adaptiveHeight: true
            });
            // Cloudinary video player 
            // var cld = new cloudinary.Cloudinary({cloud_name: "smartwinnr", secure: true});
            // var videoPlayer = cld.videoPlayer('video-player', { playedEventPercents: [10, 20]});
            // videoPlayer.source('https://res.cloudinary.com/smartwinnr/video/upload/v1581053710/website/Sales_Contests_Top_Section_nh4mvw.mp4');
            // videoPlayer.on('percentsplayed', (event) => {
            //     if (event.eventData.percent == 10) {
            //         document.getElementById("ml_popup").style.display = "block";
            //     }
            //     if(event.eventData.percent == 20) {
            //         document.getElementById("ml_popup").style.display = "none";
            //     }
            //     console.log(event.eventData.percent + " percents played")
            // });
        });
        // function hidePopup() {
        //     document.getElementById("ml_popup").style.display = "none";
        // }
        </script>
        <!-- end of slider for related blogs -->
    </head>
    <body class="no-subnav">
         {{ partial "search_modal" . }}
         {{ if eq (getenv "HUGO_ENV") "prod" }}
        <!-- Google Tag Manager (noscript) -->
        <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-M3XXZX" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
        <!-- End Google Tag Manager (noscript) -->
        {{ end }}
        <header>
            {{ partial "nav" . }}
            {{ partial "subnav" . }}
        </header>
        {{block "main" .}}{{ end }}
        <footer>
            <!-- {{ partial "contribute_footer" . }} -->
            {{ partial "footer" . }}
        </footer>
        {{ if (getenv "HUGO_ENV") }}
            {{ partial "includes_body_end_prod" . }}
        {{ else }}
             {{ partial "includes_body_end_dev" . }}
        {{ end }}
        {{ partial "js" . }}
        {{block "body-end" .}}{{ end }}
    </body>
</html>
